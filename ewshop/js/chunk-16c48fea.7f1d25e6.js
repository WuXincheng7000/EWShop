(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16c48fea"],{"159b":function(t,e,c){var n=c("da84"),r=c("fdbc"),o=c("17c2"),a=c("9112");for(var i in r){var u=n[i],d=u&&u.prototype;if(d&&d.forEach!==o)try{a(d,"forEach",o)}catch(s){d.forEach=o}}},"17c2":function(t,e,c){"use strict";var n=c("b727").forEach,r=c("a640"),o=c("ae40"),a=r("forEach"),i=o("forEach");t.exports=a&&i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"271f":function(t,e,c){"use strict";c("d77d")},4160:function(t,e,c){"use strict";var n=c("23e7"),r=c("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"4de4":function(t,e,c){"use strict";var n=c("23e7"),r=c("b727").filter,o=c("1dde"),a=c("ae40"),i=o("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!i||!u},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,c){"use strict";c.d(e,"a",(function(){return o}));c("a4d3"),c("4de4"),c("4160"),c("e439"),c("dbb4"),c("b64b"),c("159b");function n(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}function r(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,n)}return c}function o(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?r(Object(c),!0).forEach((function(e){n(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}},"6ab7":function(t,e,c){"use strict";c.r(e);c("a4d3"),c("e01a");var n=c("7a23"),r=Object(n["R"])("data-v-30b99a54");Object(n["A"])("data-v-30b99a54");var o=Object(n["h"])("新书"),a=Object(n["h"])("推荐"),i=Object(n["h"])("加入购物车"),u=Object(n["h"])("立即购买");Object(n["y"])();var d=r((function(t,e,c,d,s,f){var l=Object(n["F"])("nav-bar"),b=Object(n["F"])("van-image"),O=Object(n["F"])("van-tag"),j=Object(n["F"])("van-button"),p=Object(n["F"])("van-card"),v=Object(n["F"])("van-tab"),g=Object(n["F"])("goods-list"),h=Object(n["F"])("van-tabs");return Object(n["x"])(),Object(n["f"])("div",null,[Object(n["i"])(l,null,{left:r((function(){return[]})),default:r((function(){return[Object(n["h"])("商品详情:"+Object(n["I"])(d.id),1)]})),_:1}),Object(n["i"])(b,{style:{"margin-top":"46.5px"},width:"100%","lazy-load":"",src:t.detail.cover_url},null,8,["src"]),Object(n["i"])(p,{style:{"text-align":"left"},num:t.detail.stock,price:t.detail.price+".00",desc:t.detail.description,title:t.detail.title},{tags:r((function(){return[Object(n["i"])(O,{plain:"",type:"danger"},{default:r((function(){return[o]})),_:1}),Object(n["i"])(O,{plain:"",type:"danger"},{default:r((function(){return[a]})),_:1})]})),footer:r((function(){return[Object(n["i"])(j,{color:"#ff9000",onClick:d.handleAddCart},{default:r((function(){return[i]})),_:1},8,["onClick"]),Object(n["i"])(j,{color:"#ff5000",onClick:d.goToCart},{default:r((function(){return[u]})),_:1},8,["onClick"])]})),_:1},8,["num","price","desc","title"]),Object(n["i"])(h,{modelValue:d.active,"onUpdate:modelValue":e[1]||(e[1]=function(t){return d.active=t})},{default:r((function(){return[Object(n["i"])(v,{title:"概述"},{default:r((function(){return[Object(n["i"])("div",{class:"content",innerHTML:t.detail.details},null,8,["innerHTML"])]})),_:1}),Object(n["i"])(v,{title:"热评"},{default:r((function(){return[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(t.detail.comments,(function(t){return Object(n["x"])(),Object(n["f"])("div",{key:t.id})})),128))]})),_:1}),Object(n["i"])(v,{title:"相关图书"},{default:r((function(){return[Object(n["i"])(g,{goods:t.like_goods},null,8,["goods"])]})),_:1})]})),_:1},8,["modelValue"])])})),s=c("5530"),f=(c("e7e5"),c("d399")),l=c("a7ac"),b=c("6d71"),O=c("6c02"),j=c("5502"),p=c("1bab");function v(t){return Object(p["a"])({url:"/api/goods/"+t})}var g=c("5a07"),h={name:"Detail",components:{NavBar:l["a"],GoodsList:b["a"]},setup:function(){var t=Object(n["C"])(1),e=Object(O["c"])(),c=Object(O["d"])(),r=Object(j["b"])(),o=Object(n["C"])(0),a=Object(n["B"])({detail:{},like_goods:[]});Object(n["u"])((function(){o.value=e.query.id,v(o.value).then((function(t){a.detail=t.goods,a.like_goods=t.like_goods}))}));var i=function(){console.log("addCart"),Object(g["a"])({goods_id:a.detail.id,num:1}).then((function(t){"201"!=t.status&&"204"!=t.status||(f["a"].success("添加成功"),r.dispatch("updateCart"))}))},u=function(){Object(g["a"])({goods_id:a.detail.id,num:1}).then((function(t){"201"!=t.status&&"204"!=t.status||(f["a"].success("添加成功,即将跳转至购物车"),r.dispatch("updateCart"),setTimeout((function(){c.push({path:"/shopcart"})}),1300))}))};return Object(s["a"])(Object(s["a"])({id:o},Object(n["J"])(a)),{},{active:t,handleAddCart:i,goToCart:u})}};c("c4aa");h.render=d,h.__scopeId="data-v-30b99a54";e["default"]=h},"6d71":function(t,e,c){"use strict";var n=c("7a23"),r=Object(n["R"])("data-v-ded2366c");Object(n["A"])("data-v-ded2366c");var o={class:"goods"};Object(n["y"])();var a=r((function(t,e,c,r,a,i){var u=Object(n["F"])("goods-list-item");return Object(n["x"])(),Object(n["f"])("div",o,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.goods,(function(t){return Object(n["x"])(),Object(n["f"])(u,{books:t,key:t},null,8,["books"])})),128))])})),i=Object(n["R"])("data-v-c4c360da");Object(n["A"])("data-v-c4c360da");var u={alt:""},d={class:"goods-info"},s={class:"price"},f=Object(n["i"])("small",null,"￥",-1),l={class:"collect"};Object(n["y"])();var b=i((function(t,e,c,r,o,a){var i=Object(n["G"])("lazy");return Object(n["x"])(),Object(n["f"])("div",{class:"goods-item",onClick:e[1]||(e[1]=function(){return r.itemClick&&r.itemClick.apply(r,arguments)})},[Object(n["P"])(Object(n["i"])("img",u,null,512),[[i,c.books.cover_url]]),Object(n["i"])("div",d,[Object(n["i"])("p",null,Object(n["I"])(c.books.title),1),Object(n["i"])("span",s,[f,Object(n["h"])(Object(n["I"])(c.books.price),1)]),Object(n["i"])("span",l,Object(n["I"])(c.books.collects_count),1)])])})),O=c("6c02"),j={name:"GoodsListItem",props:{books:Object,default:function(){return{}}},setup:function(t){var e=Object(O["d"])();return{itemClick:function(){e.push({path:"/detail",query:{id:t.books.id}})}}}};c("271f");j.render=b,j.__scopeId="data-v-c4c360da";var p=j,v={name:"GoodsList",props:{goods:{type:Array,default:function(){return[]}}},components:{GoodsListItem:p}};c("afaa");v.render=a,v.__scopeId="data-v-ded2366c";e["a"]=v},8051:function(t,e,c){},afaa:function(t,e,c){"use strict";c("8051")},c4aa:function(t,e,c){"use strict";c("e7ff")},d77d:function(t,e,c){},dbb4:function(t,e,c){var n=c("23e7"),r=c("83ab"),o=c("56ef"),a=c("fc6a"),i=c("06cf"),u=c("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,c,n=a(t),r=i.f,d=o(n),s={},f=0;while(d.length>f)c=r(n,e=d[f++]),void 0!==c&&u(s,e,c);return s}})},e01a:function(t,e,c){"use strict";var n=c("23e7"),r=c("83ab"),o=c("da84"),a=c("5135"),i=c("861d"),u=c("9bf2").f,d=c("e893"),s=o.Symbol;if(r&&"function"==typeof s&&(!("description"in s.prototype)||void 0!==s().description)){var f={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof l?new s(t):void 0===t?s():s(t);return""===t&&(f[e]=!0),e};d(l,s);var b=l.prototype=s.prototype;b.constructor=l;var O=b.toString,j="Symbol(test)"==String(s("test")),p=/^Symbol\((.*)\)[^)]+$/;u(b,"description",{configurable:!0,get:function(){var t=i(this)?this.valueOf():this,e=O.call(t);if(a(f,t))return"";var c=j?e.slice(7,-1):e.replace(p,"$1");return""===c?void 0:c}}),n({global:!0,forced:!0},{Symbol:l})}},e439:function(t,e,c){var n=c("23e7"),r=c("d039"),o=c("fc6a"),a=c("06cf").f,i=c("83ab"),u=r((function(){a(1)})),d=!i||u;n({target:"Object",stat:!0,forced:d,sham:!i},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},e7ff:function(t,e,c){}}]);
//# sourceMappingURL=chunk-16c48fea.7f1d25e6.js.map